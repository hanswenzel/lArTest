
#include "math.h"
#include <iostream>
#include "TGraph.h"
#include "TCanvas.h"
#include "TLegend.h"
#include "TMultiGraph.h"
#include "TAxis.h"
#include "TF1.h"
using namespace std;

void dEdxTable() {
    const Int_t nr = 85;
    const Double_t energy[nr] = {
        0.0001,
        0.000138949549437,
        0.000193069772888,
        0.000268269579528,
        0.000372759372031,
        0.000517947467923,
        0.000719685673001,
        0.001,
        0.00138949549437,
        0.00193069772888,
        0.00268269579528,
        0.00372759372031,
        0.00517947467923,
        0.00719685673001,
        0.01,
        0.0138949549437,
        0.0193069772888,
        0.0268269579528,
        0.0372759372031,
        0.0517947467923,
        0.0719685673001,
        0.1,
        0.138949549437,
        0.193069772888,
        0.268269579528,
        0.372759372031,
        0.517947467923,
        0.719685673001,
        1,
        1.38949549437,
        1.93069772888,
        2.68269579528,
        3.72759372031,
        5.17947467923,
        7.19685673001,
        10,
        13.8949549437,
        19.3069772888,
        26.8269579528,
        37.2759372031,
        51.7947467923,
        71.9685673001,
        100,
        138.949549437,
        193.069772888,
        268.269579528,
        372.759372031,
        517.947467923,
        719.685673001,
        1000,
        1389.49549437,
        1930.69772888,
        2682.69579528,
        3727.59372031,
        5179.47467923,
        7196.85673001,
        10000,
        13894.9549437,
        19306.9772888,
        26826.9579528,
        37275.9372031,
        51794.7467923,
        71968.5673001,
        100000,
        138949.549437,
        193069.772888,
        268269.579528,
        372759.372031,
        517947.467923,
        719685.673001,
        1000000,
        1389495.49437,
        1930697.72888,
        2682695.79528,
        3727593.72031,
        5179474.67923,
        7196856.73001,
        10000000,
        13894954.9437,
        19306977.2888,
        26826957.9528,
        37275937.2031,
        51794746.7923,
        71968567.3001,
        100000000
    };
    const Double_t rdEdx[nr] = {
        3.80033350118,
        4.47971393294,
        5.280546277,
        6.2245423259,
        7.33729525972,
        8.64897351638,
        10.1951387043,
        12.017709732,
        14.1660992941,
        16.6985535252,
        19.683731142,
        23.2025648859,
        27.3504557342,
        32.2398593668,
        38.0033350118,
        43.7414494638,
        50.0210181476,
        56.6055840371,
        62.9114336081,
        67.8630962883,
        69.930076567,
        67.7717930954,
        61.4559860404,
        52.8752929622,
        44.3272060977,
        36.9833611348,
        30.8982699349,
        25.7542138339,
        21.3031540286,
        17.4320437623,
        14.0992667498,
        11.1008814649,
        8.79283631369,
        6.96568321197,
        5.46442483621,
        4.27097070537,
        3.3135947722,
        2.56790738319,
        1.97961929687,
        1.52457664192,
        1.18755496149,
        0.926452910432,
        0.727135128506,
        0.570903367405,
        0.451093642147,
        0.363914395759,
        0.301094388501,
        0.2564977823,
        0.225575108069,
        0.204865394789,
        0.191561483934,
        0.18369005078,
        0.179701909759,
        0.178367110778,
        0.178732154741,
        0.180088109611,
        0.181935361529,
        0.183942387997,
        0.185903360793,
        0.187698393988,
        0.189270653766,
        0.190597625173,
        0.191679189391,
        0.192529008645,
        0.193168882546,
        0.193625367034,
        0.193927780615,
        0.194107039961,
        0.194194983512,
        0.194223979599,
        0.194226657891,
        0.194226571715,
        0.194226527063,
        0.194226503933,
        0.194226491956,
        0.194226485755,
        0.194226482546,
        0.194226480887,
        0.194226480029,
        0.194226479586,
        0.194226479357,
        0.194226479239,
        0.194226479179,
        0.194226479148,
        0.194226479132
    };
    TCanvas *canvas = new TCanvas("canvas", "rayleigh scattering length", 200, 10, 1000, 800);
    canvas->SetLogy();
    canvas->SetLogx();
    TGraph *ve = new TGraph(nr, energy, rdEdx);
    ve->GetXaxis()->SetLimits(100, 10000.);
    //   mg->SetMinimum(1.);
    ve->SetMaximum(1.);
    //-> SetTitle("Geant4 restricted dEdx Table");
    ve->SetLineColor(2);
    ve->SetMarkerColor(2);
    ve->SetMarkerStyle(22);
    ve->SetMarkerSize(2);
    ve->Draw();
//    TLegend *leg = canvas->BuildLegend(.7, .65, 0.85, .85);
//    leg->Draw();

}
